<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïä§ÎßàÌä∏Ï≤¥Ïú° ÎåÄÏãúÎ≥¥Îìú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .menu-item.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .submenu-item.active { background-color: #e5e7eb; color: #111827; font-weight: 600; }
        .submenu { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
        .submenu.show { max-height: 500px; }
        .card { transition: all 0.3s ease; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .stat-card.blue { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .stat-card.green { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .stat-card.orange { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .stat-card.purple { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #374151; }
        .donut-chart { position: relative; }
        .donut-chart canvas { max-height: 300px; }
        .input-field { transition: all 0.2s ease; }
        .input-field:focus { transform: scale(1.02); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .btn-primary:hover { background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%); transform: translateY(-1px); }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex min-h-screen">
        <!-- Ï¢åÏ∏° Î©îÎâ¥ -->
        <aside class="w-64 bg-white shadow-lg">
            <div class="p-6 bg-gradient-to-r from-blue-600 to-purple-600">
                <h1 class="text-xl font-bold text-white flex items-center">
                    <i class="fas fa-running mr-3"></i>Ïä§ÎßàÌä∏Ï≤¥Ïú° ÎåÄÏãúÎ≥¥Îìú
                </h1>
            </div>
            
            <nav class="mt-6 px-3">
                <!-- Ìôà -->
                <button class="menu-item w-full flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg mb-2 active" data-target="dashboard">
                    <i class="fas fa-home w-5 mr-3"></i>
                    <span>Ìôà</span>
                </button>
                
                <!-- Í∏∞Î°ù Í¥ÄÎ¶¨ -->
                <button class="menu-item w-full flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg mb-2" data-target="record-management">
                    <i class="fas fa-edit w-5 mr-3"></i>
                    <span>Í∏∞Î°ù Í¥ÄÎ¶¨</span>
                </button>
                
                <!-- ÏÑ±Ï†Å Î∂ÑÏÑù -->
                <div class="mb-2">
                    <button class="menu-toggle w-full flex items-center justify-between px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-menu="statistics">
                        <div class="flex items-center">
                            <i class="fas fa-chart-bar w-5 mr-3"></i>
                            <span>ÏÑ±Ï†Å Î∂ÑÏÑù</span>
                        </div>
                        <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                    </button>
                    <div class="submenu ml-4 mt-1" data-submenu="statistics">
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="individual-stats">
                            <i class="fas fa-user-chart w-4 mr-2"></i>
                            <span>ÌÜµÍ≥Ñ Î∂ÑÏÑù</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="comparative-stats">
                            <i class="fas fa-chart-line w-4 mr-2"></i>
                            <span>ÎπÑÍµê Î∂ÑÏÑù</span>
                        </button>
                    </div>
                </div>
                
                <!-- ÌïôÏÉù Í¥ÄÎ¶¨ -->
                <button class="menu-item w-full flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg mb-2" data-target="student-management">
                    <i class="fas fa-users w-5 mr-3"></i>
                    <span>ÌïôÏÉù Í¥ÄÎ¶¨</span>
                </button>
                
                <!-- Î≥¥Í≥†ÏÑú -->
                <div class="mb-2">
                    <button class="menu-toggle w-full flex items-center justify-between px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-menu="reports">
                        <div class="flex items-center">
                            <i class="fas fa-file-alt w-5 mr-3"></i>
                            <span>Î≥¥Í≥†ÏÑú</span>
                        </div>
                        <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                    </button>
                    <div class="submenu ml-4 mt-1" data-submenu="reports">
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="cardio-reports">
                            <i class="fas fa-heartbeat w-4 mr-2"></i>
                            <span>Ïã¨ÌèêÏßÄÍµ¨Î†•</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="flexibility-reports">
                            <i class="fas fa-dumbbell w-4 mr-2"></i>
                            <span>Ïú†Ïó∞ÏÑ±</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="strength-reports">
                            <i class="fas fa-fist-raised w-4 mr-2"></i>
                            <span>Í∑ºÎ†• Î∞è Í∑ºÏßÄÍµ¨Î†•</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="power-reports">
                            <i class="fas fa-bolt w-4 mr-2"></i>
                            <span>ÏàúÎ∞úÎ†•</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="bmi-reports">
                            <i class="fas fa-weight w-4 mr-2"></i>
                            <span>BMI</span>
                        </button>
                        <button class="submenu-item w-full flex items-center px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg mb-1" data-target="neis-reports">
                            <i class="fas fa-table w-4 mr-2"></i>
                            <span>NEIS Î≥¥Í≥†ÏÑú</span>
                        </button>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
        <main class="flex-1 p-6">
            <!-- Ìôà ÎåÄÏãúÎ≥¥Îìú -->
            <div id="dashboard" class="content-section">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">ÎåÄÏãúÎ≥¥Îìú Í∞úÏöî</h2>
                    <p class="text-gray-600">Ïä§ÎßàÌä∏Ï≤¥Ïú° Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§.</p>
                </div>

                <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card p-6 rounded-xl text-white text-center">
                        <div class="text-3xl font-bold">30</div>
                        <div class="text-sm opacity-90 mt-1">Ï¥ù ÌïôÍ∏â Ïàò</div>
                    </div>
                    <div class="stat-card blue p-6 rounded-xl text-white text-center">
                        <div class="text-3xl font-bold">900</div>
                        <div class="text-sm opacity-90 mt-1">Ï¥ù ÌïôÏÉù Ïàò</div>
                    </div>
                    <div class="stat-card green p-6 rounded-xl text-white text-center">
                        <div class="text-3xl font-bold">7,200</div>
                        <div class="text-sm opacity-90 mt-1">Ï¥ù Í∏∞Î°ù Ïàò</div>
                    </div>
                    <div class="stat-card orange p-6 rounded-xl text-white text-center">
                        <div class="text-3xl font-bold">78%</div>
                        <div class="text-sm opacity-90 mt-1">ÏôÑÎ£åÏú®</div>
                    </div>
                </div>

                <!-- Ï∞®Ìä∏ ÏÑπÏÖò -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- ÌïôÎÖÑÎ≥Ñ ÌòÑÌô© -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÌïôÎÖÑÎ≥Ñ ÌòÑÌô©</h3>
                        <div class="donut-chart">
                            <canvas id="grade-chart"></canvas>
                        </div>
                        <div class="mt-4 space-y-2 text-sm">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                                    <span>4ÌïôÎÖÑ</span>
                                </div>
                                <span class="font-semibold">300Î™Ö</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                    <span>5ÌïôÎÖÑ</span>
                                </div>
                                <span class="font-semibold">300Î™Ö</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-purple-500 rounded-full mr-2"></div>
                                    <span>6ÌïôÎÖÑ</span>
                                </div>
                                <span class="font-semibold">300Î™Ö</span>
                            </div>
                        </div>
                    </div>

                    <!-- ÌïôÍ∏âÎ≥Ñ ÌòÑÌô© -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÌïôÍ∏âÎ≥Ñ Í∏∞Î°ù ÏôÑÎ£åÏú®</h3>
                        <canvas id="class-chart"></canvas>
                    </div>

                    <!-- Ï¢ÖÎ™©Î≥Ñ ÌòÑÌô© -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Ï¢ÖÎ™©Î≥Ñ ÌòÑÌô©</h3>
                        <div class="donut-chart">
                            <canvas id="subject-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-1 gap-1 text-sm">
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                                <span>ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                                <span>ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                <span>ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></div>
                                <span>Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-purple-500 rounded-full mr-2"></div>
                                <span>50mÎã¨Î¶¨Í∏∞</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Í∏∞Î°ù Í¥ÄÎ¶¨ ÏÑπÏÖò -->
            <div id="record-management" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Í∏∞Î°ù Í¥ÄÎ¶¨</h2>
                
                <!-- ÌïôÏÉù ÏÑ†ÌÉù -->
                <div class="card bg-white p-6 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ÌïôÏÉù ÏÑ†ÌÉù</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÎÖÑ</label>
                            <select id="student-grade" class="w-full p-3 border border-gray-300 rounded-lg input-field">
                                <option value="">Ï†ÑÏ≤¥</option>
                                <option value="4">4ÌïôÎÖÑ</option>
                                <option value="5">5ÌïôÎÖÑ</option>
                                <option value="6">6ÌïôÎÖÑ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Î∞ò</label>
                            <select id="student-class" class="w-full p-3 border border-gray-300 rounded-lg input-field">
                                <option value="">Ï†ÑÏ≤¥</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÏÉù</label>
                            <select id="student-select" class="w-full p-3 border border-gray-300 rounded-lg input-field">
                                <option value="">ÌïôÏÉùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                            </select>
                        </div>
                    </div>
                    <div id="selected-student-info" class="mt-4 p-3 bg-blue-50 rounded-lg text-center text-blue-800 font-medium hidden">
                        ÏÑ†ÌÉùÎêú ÌïôÏÉù: - 
                    </div>
                </div>

                <!-- Ï¢ÖÎ™©Î≥Ñ Í∏∞Î°ù ÏûÖÎ†• -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Ïã¨ÌèêÏßÄÍµ¨Î†• -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <span class="text-2xl mr-2">üèÉ‚Äç‚ôÇÔ∏è</span>
                            Ïã¨ÌèêÏßÄÍµ¨Î†•
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" placeholder="15" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-1">
                                    <span class="text-gray-500">Ìöå</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ïò§ÎûòÎã¨Î¶¨Í∏∞-Í±∑Í∏∞</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="flex items-center space-x-1">
                                        <input type="number" placeholder="8" class="w-full p-2 border border-gray-300 rounded-lg input-field text-sm" id="record-2-min">
                                        <span class="text-gray-500 text-xs">Î∂Ñ</span>
                                    </div>
                                    <div class="flex items-center space-x-1">
                                        <input type="number" placeholder="30" class="w-full p-2 border border-gray-300 rounded-lg input-field text-sm" id="record-2-sec">
                                        <span class="text-gray-500 text-xs">Ï¥à</span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ïä§ÌÖùÍ≤ÄÏÇ¨(PEI)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="flex items-center space-x-1">
                                        <input type="number" placeholder="3" class="w-full p-2 border border-gray-300 rounded-lg input-field text-sm" id="record-3-min">
                                        <span class="text-gray-500 text-xs">Î∂Ñ</span>
                                    </div>
                                    <div class="flex items-center space-x-1">
                                        <input type="number" placeholder="120" class="w-full p-2 border border-gray-300 rounded-lg input-field text-sm" id="record-3-count">
                                        <span class="text-gray-500 text-xs">Ìöå</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ïú†Ïó∞ÏÑ± -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <span class="text-2xl mr-2">ü§∏‚Äç‚ôÄÔ∏è</span>
                            Ïú†Ïó∞ÏÑ±
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.1" placeholder="12.5" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-4">
                                    <span class="text-gray-500">cm</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ï¢ÖÌï©Ïú†Ïó∞ÏÑ±</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" placeholder="8" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-5">
                                    <span class="text-gray-500">Ï†ê</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Í∑ºÎ†•/Í∑ºÏßÄÍµ¨Î†• -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <span class="text-2xl mr-2">üí™</span>
                            Í∑ºÎ†•/Í∑ºÏßÄÍµ¨Î†•
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">(Î¨¥Î¶éÎåÄÍ≥†)ÌåîÍµΩÌòÄÌé¥Í∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" placeholder="25" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-6">
                                    <span class="text-gray-500">Ìöå</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" placeholder="32" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-7">
                                    <span class="text-gray-500">Ìöå</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÏïÖÎ†•</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.1" placeholder="28.5" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-8">
                                    <span class="text-gray-500">kg</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÏàúÎ∞úÎ†• -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <span class="text-2xl mr-2">‚ö°</span>
                            ÏàúÎ∞úÎ†•
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">50m Îã¨Î¶¨Í∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.01" placeholder="7.82" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-9">
                                    <span class="text-gray-500">Ï¥à</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.1" placeholder="180.0" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="record-10">
                                    <span class="text-gray-500">cm</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÎπÑÎßåÎèÑ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <span class="text-2xl mr-2">üìè</span>
                            ÎπÑÎßåÎèÑ
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ïã†Ïû•</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.1" placeholder="140.5" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="height-input">
                                    <span class="text-gray-500">cm</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ï≤¥Ï§ë</label>
                                <div class="flex items-center space-x-2">
                                    <input type="number" step="0.1" placeholder="38.2" class="flex-1 p-3 border border-gray-300 rounded-lg input-field" id="weight-input">
                                    <span class="text-gray-500">kg</span>
                                </div>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-lg text-center">
                                <span class="text-gray-600">BMI: </span>
                                <span id="bmi-result" class="font-bold text-blue-600">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ï†ÄÏû• Î≤ÑÌäº -->
                <div class="mt-6 text-center">
                    <button id="save-records" class="btn-primary text-white px-8 py-3 rounded-lg font-semibold shadow-lg transition-all duration-200">
                        <i class="fas fa-save mr-2"></i>
                        Í∏∞Î°ù Ï†ÄÏû•
                    </button>
                </div>
            </div>

            <!-- ÌÜµÍ≥Ñ Î∂ÑÏÑù ÏÑπÏÖò -->
            <div id="individual-stats" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">ÌÜµÍ≥Ñ Î∂ÑÏÑù - Í∞úÏù∏Î≥Ñ Í≤ÄÏÉâ</h2>
                
                <!-- Í≤ÄÏÉâ ÌïÑÌÑ∞ -->
                <div class="card bg-white p-6 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ÌïôÏÉù Í≤ÄÏÉâ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÎÖÑ</label>
                            <select id="search-grade" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ ÌïôÎÖÑ</option>
                                <option value="4">4ÌïôÎÖÑ</option>
                                <option value="5">5ÌïôÎÖÑ</option>
                                <option value="6">6ÌïôÎÖÑ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Î∞ò</label>
                            <select id="search-class" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ Î∞ò</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÏÉù ÏÑ†ÌÉù</label>
                            <select id="search-student-list" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">ÌïôÏÉùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button id="search-student" class="w-full btn-primary text-white px-4 py-3 rounded-lg font-semibold">
                                <i class="fas fa-search mr-2"></i>Í≤ÄÏÉâ
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Í∞úÏù∏ Í∏∞Î°ù Ï∞®Ìä∏ -->
                <div class="card bg-white p-6 rounded-xl">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Í∞úÏù∏ Í∏∞Î°ù Î∂ÑÏÑù</h3>
                    <div style="height: 300px;">
                        <canvas id="individual-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ÎπÑÍµê Î∂ÑÏÑù ÏÑπÏÖò -->
            <div id="comparative-stats" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">ÎπÑÍµê Î∂ÑÏÑù</h2>
                
                <!-- Î∂ÑÏÑù Ïú†Ìòï ÏÑ†ÌÉù -->
                <div class="card bg-white p-6 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Î∂ÑÏÑù Ïú†Ìòï ÏÑ†ÌÉù</h3>
                    <div class="flex space-x-4 mb-4">
                        <button id="grade-analysis" class="px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all">ÌïôÎÖÑÎ≥Ñ Î∂ÑÏÑù</button>
                        <button id="class-analysis" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-all">ÌïôÍ∏âÎ≥Ñ Î∂ÑÏÑù</button>
                        <button id="individual-analysis" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-all">Í∞úÏù∏Î≥Ñ Î∂ÑÏÑù</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ï¢ÖÎ™©</label>
                            <select id="compare-subject" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="running">ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞</option>
                                <option value="situp">ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞</option>
                                <option value="flexibility">ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞</option>
                                <option value="jump">Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞</option>
                                <option value="sprint">50m Îã¨Î¶¨Í∏∞</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÏÑ±Î≥Ñ</label>
                            <select id="compare-gender" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="all">Ï†ÑÏ≤¥</option>
                                <option value="male">ÎÇ®ÌïôÏÉù</option>
                                <option value="female">Ïó¨ÌïôÏÉù</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- ÎπÑÍµê Î∂ÑÏÑù Ï∞®Ìä∏ -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÌèâÍ∑† Í∏∞Î°ù ÎπÑÍµê</h3>
                        <canvas id="comparison-chart"></canvas>
                    </div>
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Í∏∞Î°ù Î∂ÑÌè¨</h3>
                        <canvas id="distribution-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ÌïôÏÉù Í¥ÄÎ¶¨ ÏÑπÏÖò -->
            <div id="student-management" class="content-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">ÌïôÏÉù Í¥ÄÎ¶¨</h2>
                    <button id="add-student-btn" class="btn-primary text-white px-4 py-2 rounded-lg font-semibold">
                        <i class="fas fa-plus mr-2"></i>ÌïôÏÉù Ï∂îÍ∞Ä
                    </button>
                </div>

                <!-- ÌïÑÌÑ∞ -->
                <div class="card bg-white p-4 rounded-xl mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÎÖÑ</label>
                            <select id="filter-grade" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ ÌïôÎÖÑ</option>
                                <option value="4">4ÌïôÎÖÑ</option>
                                <option value="5">5ÌïôÎÖÑ</option>
                                <option value="6">6ÌïôÎÖÑ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Î∞ò</label>
                            <select id="filter-class" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ Î∞ò</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button id="filter-students" class="w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-semibold transition-all">
                                <i class="fas fa-filter mr-2"></i>ÌïÑÌÑ∞ Ï†ÅÏö©
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ÌïôÏÉù Î™©Î°ù -->
                <div class="card bg-white rounded-xl overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ÌïôÎÖÑ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Î∞ò</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Î≤àÌò∏</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ïù¥Î¶Ñ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ÏÑ±Î≥Ñ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ÏÉùÎÖÑÏõîÏùº</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Í∏∞Î°ù ÌòÑÌô©</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ÏûëÏóÖ</th>
                                </tr>
                            </thead>
                            <tbody id="student-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ -->
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">4</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ÍπÄÎØºÏàò</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ÎÇ®</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2014-03-15</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                        <span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">ÏôÑÎ£å</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-indigo-600 hover:text-indigo-900 mr-3">ÏàòÏ†ï</button>
                                        <button class="text-red-600 hover:text-red-900">ÏÇ≠Ï†ú</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">4</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Ïù¥ÏòÅÌù¨</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Ïó¨</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2014-05-22</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                        <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">ÏßÑÌñâÏ§ë</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-indigo-600 hover:text-indigo-900 mr-3">ÏàòÏ†ï</button>
                                        <button class="text-red-600 hover:text-red-900">ÏÇ≠Ï†ú</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Ïã¨ÌèêÏßÄÍµ¨Î†• Î≥¥Í≥†ÏÑú -->
            <div id="cardio-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Ïã¨ÌèêÏßÄÍµ¨Î†• Î≥¥Í≥†ÏÑú</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞</h3>
                        <canvas id="cardio-chart-1"></canvas>
                        <div class="mt-4 text-sm text-gray-600">
                            <p>ÌèâÍ∑† Í∏∞Î°ù: <span class="font-semibold text-blue-600">28.5Ìöå</span></p>
                            <p>ÏµúÍ≥† Í∏∞Î°ù: <span class="font-semibold text-green-600">45Ìöå</span></p>
                            <p>ÏµúÏ†Ä Í∏∞Î°ù: <span class="font-semibold text-red-600">12Ìöå</span></p>
                        </div>
                    </div>

                    <!-- Ïò§ÎûòÎã¨Î¶¨Í∏∞-Í±∑Í∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Ïò§ÎûòÎã¨Î¶¨Í∏∞-Í±∑Í∏∞</h3>
                        <canvas id="cardio-chart-2"></canvas>
                        <div class="mt-4 text-sm text-gray-600">
                            <p>ÌèâÍ∑† Í∏∞Î°ù: <span class="font-semibold text-blue-600">9Î∂Ñ 15Ï¥à</span></p>
                            <p>ÏµúÍ≥† Í∏∞Î°ù: <span class="font-semibold text-green-600">7Î∂Ñ 30Ï¥à</span></p>
                            <p>ÏµúÏ†Ä Í∏∞Î°ù: <span class="font-semibold text-red-600">12Î∂Ñ 45Ï¥à</span></p>
                        </div>
                    </div>

                    <!-- Ïä§ÌÖùÍ≤ÄÏÇ¨ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Ïä§ÌÖùÍ≤ÄÏÇ¨(PEI)</h3>
                        <canvas id="cardio-chart-3"></canvas>
                        <div class="mt-4 text-sm text-gray-600">
                            <p>ÌèâÍ∑† Í∏∞Î°ù: <span class="font-semibold text-blue-600">95.2Ìöå</span></p>
                            <p>ÏµúÍ≥† Í∏∞Î°ù: <span class="font-semibold text-green-600">130Ìöå</span></p>
                            <p>ÏµúÏ†Ä Í∏∞Î°ù: <span class="font-semibold text-red-600">65Ìöå</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïú†Ïó∞ÏÑ± Î≥¥Í≥†ÏÑú -->
            <div id="flexibility-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Ïú†Ïó∞ÏÑ± Î≥¥Í≥†ÏÑú</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞</h3>
                        <canvas id="flexibility-chart"></canvas>
                        <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                            <div class="p-3 bg-blue-50 rounded-lg">
                                <div class="text-2xl font-bold text-blue-600">14.2cm</div>
                                <div class="text-sm text-gray-600">ÌèâÍ∑† Í∏∞Î°ù</div>
                            </div>
                            <div class="p-3 bg-green-50 rounded-lg">
                                <div class="text-2xl font-bold text-green-600">25.8cm</div>
                                <div class="text-sm text-gray-600">ÏµúÍ≥† Í∏∞Î°ù</div>
                            </div>
                            <div class="p-3 bg-red-50 rounded-lg">
                                <div class="text-2xl font-bold text-red-600">3.2cm</div>
                                <div class="text-sm text-gray-600">ÏµúÏ†Ä Í∏∞Î°ù</div>
                            </div>
                        </div>
                    </div>

                    <!-- Ï¢ÖÌï©Ïú†Ïó∞ÏÑ± -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Ï¢ÖÌï©Ïú†Ïó∞ÏÑ±</h3>
                        <canvas id="flexibility-chart-2"></canvas>
                        <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                            <div class="p-3 bg-blue-50 rounded-lg">
                                <div class="text-2xl font-bold text-blue-600">7.5Ï†ê</div>
                                <div class="text-sm text-gray-600">ÌèâÍ∑† Ï†êÏàò</div>
                            </div>
                            <div class="p-3 bg-green-50 rounded-lg">
                                <div class="text-2xl font-bold text-green-600">10Ï†ê</div>
                                <div class="text-sm text-gray-600">ÏµúÍ≥† Ï†êÏàò</div>
                            </div>
                            <div class="p-3 bg-red-50 rounded-lg">
                                <div class="text-2xl font-bold text-red-600">4Ï†ê</div>
                                <div class="text-sm text-gray-600">ÏµúÏ†Ä Ï†êÏàò</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Í∑ºÎ†• Î∞è Í∑ºÏßÄÍµ¨Î†• Î≥¥Í≥†ÏÑú -->
            <div id="strength-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Í∑ºÎ†• Î∞è Í∑ºÏßÄÍµ¨Î†• Î≥¥Í≥†ÏÑú</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞</h3>
                        <canvas id="strength-chart-1"></canvas>
                    </div>

                    <!-- ÏïÖÎ†• -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">ÏïÖÎ†•</h3>
                        <canvas id="strength-chart-2"></canvas>
                    </div>
                </div>
            </div>

            <!-- ÏàúÎ∞úÎ†• Î≥¥Í≥†ÏÑú -->
            <div id="power-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">ÏàúÎ∞úÎ†• Î≥¥Í≥†ÏÑú</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- 50m Îã¨Î¶¨Í∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">50m Îã¨Î¶¨Í∏∞</h3>
                        <canvas id="power-chart-1"></canvas>
                    </div>

                    <!-- Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞</h3>
                        <canvas id="power-chart-2"></canvas>
                    </div>
                </div>
            </div>

            <!-- NEIS Î≥¥Í≥†ÏÑú -->
            <div id="neis-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">NEIS Î≥¥Í≥†ÏÑú</h2>
                
                <!-- Í≤ÄÏÉâ ÌïÑÌÑ∞ -->
                <div class="card bg-white p-6 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Í≤ÄÏÉâ Ï°∞Í±¥</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÎÖÑ</label>
                            <select id="neis-grade" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ ÌïôÎÖÑ</option>
                                <option value="4">4ÌïôÎÖÑ</option>
                                <option value="5">5ÌïôÎÖÑ</option>
                                <option value="6">6ÌïôÎÖÑ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Î∞ò</label>
                            <select id="neis-class" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ Î∞ò</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÌïôÏÉù</label>
                            <select id="neis-student" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Ï†ÑÏ≤¥ ÌïôÏÉù</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button id="search-neis" class="w-full btn-primary text-white px-4 py-3 rounded-lg font-semibold">
                                <i class="fas fa-search mr-2"></i>Ï°∞Ìöå
                            </button>
                        </div>
                    </div>
                </div>

                <!-- NEIS Îç∞Ïù¥ÌÑ∞ ÌÖåÏù¥Î∏î -->
                <div class="card bg-white rounded-xl overflow-hidden">
                    <div class="p-6 border-b">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-semibold text-gray-800">ÌïôÏÉù Ï≤¥Î†•Ï∏°Ï†ï Í≤∞Í≥º</h3>
                            <div class="space-x-2">
                                <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                    <i class="fas fa-file-excel mr-2"></i>Excel Îã§Ïö¥Î°úÎìú
                                </button>
                                <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                    <i class="fas fa-print mr-2"></i>Ïù∏ÏáÑ
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase border-r">ÌïôÎÖÑ</th>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase border-r">Î∞ò</th>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase border-r">Î≤àÌò∏</th>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase border-r">Ïù¥Î¶Ñ</th>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase border-r">ÏÑ±Î≥Ñ</th>
                                    <th colspan="3" class="px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-red-50">Ïã¨ÌèêÏßÄÍµ¨Î†•</th>
                                    <th colspan="2" class="px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-blue-50">Ïú†Ïó∞ÏÑ±</th>
                                    <th colspan="3" class="px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-green-50">Í∑ºÎ†• Î∞è Í∑ºÏßÄÍµ¨Î†•</th>
                                    <th colspan="2" class="px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-yellow-50">ÏàúÎ∞úÎ†•</th>
                                    <th rowspan="2" class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase bg-purple-50">BMI</th>
                                </tr>
                                <tr>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-red-50">ÏôïÎ≥µÏò§Îûò<br>Îã¨Î¶¨Í∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-red-50">Ïò§ÎûòÎã¨Î¶¨Í∏∞<br>-Í±∑Í∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-red-50">Ïä§ÌÖùÍ≤ÄÏÇ¨<br>(PEI)</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-blue-50">ÏïâÏïÑÏúóÎ™∏<br>ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-blue-50">Ï¢ÖÌï©<br>Ïú†Ïó∞ÏÑ±</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-green-50">ÌåîÍµΩÌòÄ<br>Ìé¥Í∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-green-50">ÏúóÎ™∏ÎßêÏïÑ<br>Ïò¨Î¶¨Í∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-green-50">ÏïÖÎ†•</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-yellow-50">50m<br>Îã¨Î¶¨Í∏∞</th>
                                    <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase border-r bg-yellow-50">Ï†úÏûêÎ¶¨<br>Î©ÄÎ¶¨Îõ∞Í∏∞</th>
                                </tr>
                            </thead>
                            <tbody id="neis-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- Îç∞Ïù¥ÌÑ∞Í∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- BMI Î≥¥Í≥†ÏÑú -->
            <div id="bmi-reports" class="content-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">BMI Î≥¥Í≥†ÏÑú</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- BMI Î∂ÑÌè¨ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">BMI Î∂ÑÌè¨</h3>
                        <div style="height: 300px;">
                            <canvas id="bmi-chart"></canvas>
                        </div>
                    </div>

                    <!-- BMI ÌÜµÍ≥Ñ -->
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">BMI ÌÜµÍ≥Ñ</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                                <span class="font-medium">Ï†ÄÏ≤¥Ï§ë (18.5 ÎØ∏Îßå)</span>
                                <span class="font-bold text-blue-600">45Î™Ö (15%)</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                                <span class="font-medium">Ï†ïÏÉÅ (18.5-22.9)</span>
                                <span class="font-bold text-green-600">180Î™Ö (60%)</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-yellow-50 rounded-lg">
                                <span class="font-medium">Í≥ºÏ≤¥Ï§ë (23-24.9)</span>
                                <span class="font-bold text-yellow-600">60Î™Ö (20%)</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-red-50 rounded-lg">
                                <span class="font-medium">ÎπÑÎßå (25 Ïù¥ÏÉÅ)</span>
                                <span class="font-bold text-red-600">15Î™Ö (5%)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ÌïôÏÉù Ï∂îÍ∞Ä Î™®Îã¨ -->
    <div id="add-student-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">ÏÉà ÌïôÏÉù Ï∂îÍ∞Ä</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Ïù¥Î¶Ñ</label>
                        <input type="text" id="new-student-name" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÌïôÎÖÑ</label>
                            <select id="new-student-grade" class="w-full p-2 border border-gray-300 rounded-lg">
                                <option value="4">4ÌïôÎÖÑ</option>
                                <option value="5">5ÌïôÎÖÑ</option>
                                <option value="6">6ÌïôÎÖÑ</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Î∞ò</label>
                            <select id="new-student-class" class="w-full p-2 border border-gray-300 rounded-lg">
                                <option value="1">1Î∞ò</option>
                                <option value="2">2Î∞ò</option>
                                <option value="3">3Î∞ò</option>
                                <option value="4">4Î∞ò</option>
                                <option value="5">5Î∞ò</option>
                                <option value="6">6Î∞ò</option>
                                <option value="7">7Î∞ò</option>
                                <option value="8">8Î∞ò</option>
                                <option value="9">9Î∞ò</option>
                                <option value="10">10Î∞ò</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Î≤àÌò∏</label>
                            <input type="number" id="new-student-number" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="Î≤àÌò∏" min="1" max="30">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÏÑ±Î≥Ñ</label>
                            <select id="new-student-gender" class="w-full p-2 border border-gray-300 rounded-lg">
                                <option value="ÎÇ®">ÎÇ®</option>
                                <option value="Ïó¨">Ïó¨</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ÏÉùÎÖÑÏõîÏùº</label>
                        <input type="date" id="new-student-birth" class="w-full p-2 border border-gray-300 rounded-lg">
                    </div>
                </div>
                <div class="flex justify-end space-x-3 mt-6">
                    <button id="cancel-add-student" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400">Ï∑®ÏÜå</button>
                    <button id="confirm-add-student" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Ï∂îÍ∞Ä</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÏÑ±Í≥µ ÏïåÎ¶º Î™®Îã¨ -->
    <div id="success-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3 text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                    <i class="fas fa-check text-green-600 text-xl"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900">ÏôÑÎ£å</h3>
                <div class="mt-2 px-7 py-3">
                    <p id="success-message" class="text-sm text-gray-500">ÏûëÏóÖÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.</p>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="close-success-modal" class="px-4 py-2 bg-blue-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-blue-600">ÌôïÏù∏</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let currentSection = 'dashboard';
        let studentRecords = {};
        let charts = {};

        // ÏÉòÌîå ÌïôÏÉù Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (Ï¥à4,5,6ÌïôÎÖÑ, Í∞Å 10Î∞ò, Î∞òÎãπ 30Î™Ö)
        const sampleStudents = [];
        const maleNames = ['ÍπÄÎØºÏàò', 'Ïù¥ÏÑ±Ìò∏', 'Î∞ïÏ§ÄÌòï', 'ÏµúÎèôÌõà', 'Ï†ïÏö∞ÏßÑ', 'Í∞ïÌÉúÏòÅ', 'Ïú§ÏÉÅÌòÑ', 'ÏûÑÏû¨ÌòÑ', 'Ï°∞ÏòÅÏßÑ', 'ÌïúÎèÑÏú§', 'Ïã†ÎØºÏ≤†', 'Ïò§ÌòÑÏàò', 'Î∞∞ÏÑ±ÎØº', 'ÌôçÏßÑÏö∞', 'ÎÖ∏ÏàòÌòÅ'];
        const femaleNames = ['Ïù¥ÏòÅÌù¨', 'ÍπÄÏàòÏßÑ', 'Î∞ïÎØ∏ÎÇò', 'ÏµúÏùÄÏßÄ', 'Ï†ïÌòúÏõê', 'Í∞ïÏÑúÏó∞', 'Ïú§ÏßÄÏïÑ', 'ÏûÑÏ±ÑÏùÄ', 'Ï°∞Ïú†ÎÇò', 'ÌïúÏÜåÌù¨', 'Ïã†ÏòàÎ¶∞', 'Ïò§Îã§Ïù∏', 'Î∞∞ÏßÄÏõê', 'ÌôçÏ±ÑÏòÅ', 'ÎÖ∏ÏòàÏßÄ'];

        for (let grade = 4; grade <= 6; grade++) {
            for (let classNum = 1; classNum <= 10; classNum++) {
                for (let studentNum = 1; studentNum <= 30; studentNum++) {
                    const isMale = studentNum <= 15;
                    const nameList = isMale ? maleNames : femaleNames;
                    const name = nameList[Math.floor(Math.random() * nameList.length)] + (Math.floor(Math.random() * 100));
                    
                    sampleStudents.push({
                        grade: grade,
                        class: classNum,
                        number: studentNum,
                        name: name,
                        gender: isMale ? 'ÎÇ®' : 'Ïó¨',
                        birth: `20${12 + (6 - grade)}-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`
                    });
                }
            }
        }

        // Î©îÎâ¥ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', () => {
                showSection(item.dataset.target);
            });
        });

        // ÏÑúÎ∏åÎ©îÎâ¥ ÌÜ†Í∏Ä
        document.querySelectorAll('.menu-toggle').forEach(toggle => {
            toggle.addEventListener('click', () => {
                const menuName = toggle.dataset.menu;
                const submenu = document.querySelector(`[data-submenu="${menuName}"]`);
                const chevron = toggle.querySelector('.fa-chevron-down');
                
                submenu.classList.toggle('show');
                chevron.classList.toggle('rotate-180');
            });
        });

        // ÏÑúÎ∏åÎ©îÎâ¥ ÏïÑÏù¥ÌÖú ÌÅ¥Î¶≠
        document.querySelectorAll('.submenu-item').forEach(item => {
            item.addEventListener('click', () => {
                showSection(item.dataset.target);
            });
        });

        function showSection(sectionId) {
            // Î™®Îì† Î©îÎâ¥ ÎπÑÌôúÏÑ±Ìôî
            document.querySelectorAll('.menu-item, .submenu-item').forEach(menu => menu.classList.remove('active'));
            
            // ÌòÑÏû¨ Î©îÎâ¥ ÌôúÏÑ±Ìôî
            const activeItem = document.querySelector(`[data-target="${sectionId}"]`);
            if (activeItem) activeItem.classList.add('active');

            // Î™®Îì† ÏÑπÏÖò Ïà®Í∏∞Í∏∞
            document.querySelectorAll('.content-section').forEach(section => section.classList.add('hidden'));
            
            // ÏÑ†ÌÉùÎêú ÏÑπÏÖò Î≥¥Ïù¥Í∏∞
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                currentSection = sectionId;
                
                // Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî
                initializeCharts(sectionId);
            }
        }

        // ÌïôÎÖÑ/Î∞ò ÏÑ†ÌÉù Ï≤òÎ¶¨
        document.getElementById('student-grade').addEventListener('change', function() {
            updateClassOptions('student-class', this.value);
            updateStudentOptions();
        });

        document.getElementById('student-class').addEventListener('change', updateStudentOptions);

        function updateClassOptions(selectId, grade) {
            const classSelect = document.getElementById(selectId);
            classSelect.innerHTML = '<option value="">Ï†ÑÏ≤¥</option>';
            
            if (grade) {
                for (let i = 1; i <= 10; i++) {
                    classSelect.innerHTML += `<option value="${i}">${i}Î∞ò</option>`;
                }
            }
        }

        function updateStudentOptions() {
            const grade = document.getElementById('student-grade').value;
            const classNum = document.getElementById('student-class').value;
            const studentSelect = document.getElementById('student-select');
            
            studentSelect.innerHTML = '<option value="">ÌïôÏÉùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>';
            
            const filteredStudents = sampleStudents.filter(student => {
                return (!grade || student.grade == grade) && (!classNum || student.class == classNum);
            });
            
            filteredStudents.forEach((student, index) => {
                studentSelect.innerHTML += `<option value="${index}">${student.name} (${student.grade}ÌïôÎÖÑ ${student.class}Î∞ò)</option>`;
            });
        }

        // ÌïôÏÉù ÏÑ†ÌÉù Ï≤òÎ¶¨
        document.getElementById('student-select').addEventListener('change', function() {
            const studentInfo = document.getElementById('selected-student-info');
            if (this.value) {
                const studentIndex = parseInt(this.value);
                const student = sampleStudents[studentIndex];
                studentInfo.textContent = `ÏÑ†ÌÉùÎêú ÌïôÏÉù: ${student.name} (${student.grade}ÌïôÎÖÑ ${student.class}Î∞ò)`;
                studentInfo.classList.remove('hidden');
            } else {
                studentInfo.classList.add('hidden');
            }
        });

        // BMI Í≥ÑÏÇ∞
        function calculateBMI() {
            const height = parseFloat(document.getElementById('height-input').value);
            const weight = parseFloat(document.getElementById('weight-input').value);
            const bmiResult = document.getElementById('bmi-result');

            if (height > 0 && weight > 0) {
                const heightM = height / 100;
                const bmi = weight / (heightM * heightM);
                bmiResult.textContent = bmi.toFixed(2);
            } else {
                bmiResult.textContent = '-';
            }
        }

        document.getElementById('height-input').addEventListener('input', calculateBMI);
        document.getElementById('weight-input').addEventListener('input', calculateBMI);

        // Í∏∞Î°ù Ï†ÄÏû•
        document.getElementById('save-records').addEventListener('click', function() {
            const studentSelect = document.getElementById('student-select');
            if (!studentSelect.value) {
                alert('ÌïôÏÉùÏùÑ Î®ºÏ†Ä ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }

            const studentIndex = parseInt(studentSelect.value);
            const student = sampleStudents[studentIndex];

            const records = {
                student: student.name,
                grade: student.grade,
                class: student.class,
                running: document.getElementById('record-1').value || '',
                longRunMin: document.getElementById('record-2-min').value || '',
                longRunSec: document.getElementById('record-2-sec').value || '',
                stepTestMin: document.getElementById('record-3-min').value || '',
                stepTestCount: document.getElementById('record-3-count').value || '',
                flexibility: document.getElementById('record-4').value || '',
                flexibilityTotal: document.getElementById('record-5').value || '',
                pushUp: document.getElementById('record-6').value || '',
                sitUp: document.getElementById('record-7').value || '',
                grip: document.getElementById('record-8').value || '',
                sprint: document.getElementById('record-9').value || '',
                jump: document.getElementById('record-10').value || '',
                height: document.getElementById('height-input').value || '',
                weight: document.getElementById('weight-input').value || '',
                bmi: document.getElementById('bmi-result').textContent !== '-' ? document.getElementById('bmi-result').textContent : ''
            };

            studentRecords[studentIndex] = records;

            document.getElementById('success-message').textContent = `${records.student}Ïùò Í∏∞Î°ùÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.`;
            document.getElementById('success-modal').classList.remove('hidden');

            // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
            document.querySelectorAll('#record-management input').forEach(input => {
                if (input.type === 'number') input.value = '';
            });
            document.getElementById('bmi-result').textContent = '-';
        });

        // Î™®Îã¨ Îã´Í∏∞
        document.getElementById('close-success-modal').addEventListener('click', function() {
            document.getElementById('success-modal').classList.add('hidden');
        });

        // ÌïôÏÉù Ï∂îÍ∞Ä Î™®Îã¨
        document.getElementById('add-student-btn').addEventListener('click', function() {
            document.getElementById('add-student-modal').classList.remove('hidden');
        });

        document.getElementById('cancel-add-student').addEventListener('click', function() {
            document.getElementById('add-student-modal').classList.add('hidden');
        });

        document.getElementById('confirm-add-student').addEventListener('click', function() {
            const name = document.getElementById('new-student-name').value;
            const grade = document.getElementById('new-student-grade').value;
            const classNum = document.getElementById('new-student-class').value;
            const number = document.getElementById('new-student-number').value;
            const gender = document.getElementById('new-student-gender').value;
            const birth = document.getElementById('new-student-birth').value;

            if (!name || !number || !birth) {
                alert('Î™®Îì† ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }

            const newStudent = {
                grade: parseInt(grade),
                class: parseInt(classNum),
                number: parseInt(number),
                name: name,
                gender: gender,
                birth: birth
            };

            sampleStudents.push(newStudent);
            updateStudentTable();

            document.getElementById('add-student-modal').classList.add('hidden');
            document.getElementById('success-message').textContent = 'ÏÉà ÌïôÏÉùÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.';
            document.getElementById('success-modal').classList.remove('hidden');

            // Ìèº Ï¥àÍ∏∞Ìôî
            document.getElementById('new-student-name').value = '';
            document.getElementById('new-student-number').value = '';
            document.getElementById('new-student-birth').value = '';
        });

        // ÌïôÏÉù ÌÖåÏù¥Î∏î ÏóÖÎç∞Ïù¥Ìä∏
        function updateStudentTable() {
            const tbody = document.getElementById('student-table-body');
            const filterGrade = document.getElementById('filter-grade').value;
            const filterClass = document.getElementById('filter-class').value;

            const filteredStudents = sampleStudents.filter(student => {
                return (!filterGrade || student.grade == filterGrade) && (!filterClass || student.class == filterClass);
            });

            tbody.innerHTML = '';
            filteredStudents.slice(0, 20).forEach(student => { // Ï≤òÏùå 20Î™ÖÎßå ÌëúÏãú
                const hasRecord = studentRecords[sampleStudents.indexOf(student)];
                const status = hasRecord ? 
                    '<span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">ÏôÑÎ£å</span>' :
                    '<span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">ÎåÄÍ∏∞</span>';

                tbody.innerHTML += `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.grade}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.class}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.number}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.gender}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.birth}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${status}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <button class="text-indigo-600 hover:text-indigo-900 mr-3">ÏàòÏ†ï</button>
                            <button class="text-red-600 hover:text-red-900">ÏÇ≠Ï†ú</button>
                        </td>
                    </tr>
                `;
            });
        }

        // ÌïÑÌÑ∞ Ï≤òÎ¶¨
        document.getElementById('filter-grade').addEventListener('change', function() {
            updateClassOptions('filter-class', this.value);
            updateStudentTable();
        });

        document.getElementById('filter-students').addEventListener('click', updateStudentTable);

        // Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî
        function initializeCharts(sectionId) {
            switch(sectionId) {
                case 'dashboard':
                    initializeDashboardCharts();
                    break;
                case 'individual-stats':
                    // Í∞úÎ≥Ñ Í≤ÄÏÉâ Ïãú Ï∞®Ìä∏Í∞Ä ÏÉùÏÑ±ÎêòÎØÄÎ°ú Ïó¨Í∏∞ÏÑúÎäî Ï¥àÍ∏∞ÌôîÌïòÏßÄ ÏïäÏùå
                    break;
                case 'comparative-stats':
                    updateComparisonCharts('grade'); // Í∏∞Î≥∏ÏúºÎ°ú ÌïôÎÖÑÎ≥Ñ Î∂ÑÏÑù ÌëúÏãú
                    break;
                case 'cardio-reports':
                    initializeCardioCharts();
                    break;
                case 'flexibility-reports':
                    initializeFlexibilityChart();
                    break;
                case 'strength-reports':
                    initializeStrengthCharts();
                    break;
                case 'power-reports':
                    initializePowerCharts();
                    break;
                case 'neis-reports':
                    initializeNeisReports();
                    break;
                case 'bmi-reports':
                    initializeBMIChart();
                    break;
            }
        }

        function initializeDashboardCharts() {
            // ÌïôÎÖÑÎ≥Ñ Ï∞®Ìä∏
            const gradeCtx = document.getElementById('grade-chart');
            if (gradeCtx && !charts.gradeChart) {
                charts.gradeChart = new Chart(gradeCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            data: [300, 300, 300],
                            backgroundColor: ['#3b82f6', '#10b981', '#8b5cf6'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        cutout: '60%'
                    }
                });
            }

            // ÌïôÍ∏âÎ≥Ñ Ï∞®Ìä∏
            const classCtx = document.getElementById('class-chart');
            if (classCtx && !charts.classChart) {
                charts.classChart = new Chart(classCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['1Î∞ò', '2Î∞ò', '3Î∞ò', '4Î∞ò', '5Î∞ò', '6Î∞ò', '7Î∞ò', '8Î∞ò', '9Î∞ò', '10Î∞ò'],
                        datasets: [{
                            label: 'ÏôÑÎ£åÏú® (%)',
                            data: [85, 92, 78, 88, 95, 82, 90, 87, 83, 91],
                            backgroundColor: 'rgba(59, 130, 246, 0.6)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: { beginAtZero: true, max: 100 }
                        }
                    }
                });
            }

            // Ï¢ÖÎ™©Î≥Ñ Ï∞®Ìä∏
            const subjectCtx = document.getElementById('subject-chart');
            if (subjectCtx && !charts.subjectChart) {
                charts.subjectChart = new Chart(subjectCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞', 'ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞', 'ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞', 'Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞', '50mÎã¨Î¶¨Í∏∞'],
                        datasets: [{
                            data: [180, 180, 180, 180, 180],
                            backgroundColor: ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        cutout: '60%'
                    }
                });
            }
        }

        // Í≤ÄÏÉâ ÌïÑÌÑ∞ Ï≤òÎ¶¨
        document.getElementById('search-grade').addEventListener('change', function() {
            updateClassOptions('search-class', this.value);
            updateSearchStudentList();
        });

        document.getElementById('search-class').addEventListener('change', function() {
            updateSearchStudentList();
        });

        function updateSearchStudentList() {
            const grade = document.getElementById('search-grade').value;
            const classNum = document.getElementById('search-class').value;
            const studentList = document.getElementById('search-student-list');
            
            studentList.innerHTML = '<option value="">ÌïôÏÉùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>';
            
            if (grade && classNum) {
                const filteredStudents = sampleStudents.filter(student => {
                    return student.grade == grade && student.class == classNum;
                });
                
                filteredStudents.forEach((student, index) => {
                    const globalIndex = sampleStudents.indexOf(student);
                    studentList.innerHTML += `<option value="${globalIndex}">${student.name} (${student.number}Î≤à)</option>`;
                });
            }
        }

        document.getElementById('search-student').addEventListener('click', function() {
            const studentIndex = document.getElementById('search-student-list').value;

            if (studentIndex) {
                const student = sampleStudents[parseInt(studentIndex)];
                updateIndividualChart(student);
                showStudentInfo(student);
            } else {
                alert('ÌïôÏÉùÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
            }
        });

        function showStudentInfo(student) {
            const chartContainer = document.getElementById('individual-chart').parentElement;
            const existingInfo = chartContainer.querySelector('.student-info');
            if (existingInfo) existingInfo.remove();

            const infoDiv = document.createElement('div');
            infoDiv.className = 'student-info mt-4 p-4 bg-blue-50 rounded-lg';
            infoDiv.innerHTML = `
                <h4 class="font-semibold text-blue-800">${student.name} (${student.grade}ÌïôÎÖÑ ${student.class}Î∞ò)</h4>
                <p class="text-sm text-blue-600">ÏÑ±Î≥Ñ: ${student.gender} | ÏÉùÎÖÑÏõîÏùº: ${student.birth}</p>
            `;
            chartContainer.appendChild(infoDiv);
        }

        function updateIndividualChart(student) {
            if (charts.individualChart) {
                charts.individualChart.destroy();
            }
            
            // ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (Ïã§Ï†úÎ°úÎäî Ï†ÄÏû•Îêú Í∏∞Î°ùÏóêÏÑú Í∞ÄÏ†∏ÏôÄÏïº Ìï®)
            const sampleData = [
                Math.floor(Math.random() * 30) + 20, // ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞
                Math.floor(Math.random() * 15) + 10, // ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞
                Math.floor(Math.random() * 10) + 5,  // Ï¢ÖÌï©Ïú†Ïó∞ÏÑ±
                Math.floor(Math.random() * 20) + 15, // ÌåîÍµΩÌòÄÌé¥Í∏∞
                Math.floor(Math.random() * 25) + 20, // ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞
                Math.floor(Math.random() * 15) + 15, // ÏïÖÎ†•
                Math.floor(Math.random() * 3) + 7,   // 50mÎã¨Î¶¨Í∏∞
                Math.floor(Math.random() * 50) + 150, // Ï†úÏûêÎ¶¨ Î©ÄÎ¶¨Îõ∞Í∏∞
                Math.floor(Math.random() * 60) + 90   // Ïä§ÌÖùÍ≤ÄÏÇ¨
            ];

            const ctx = document.getElementById('individual-chart');
            charts.individualChart = new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞(Ìöå)', 'ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞(cm)', 'Ï¢ÖÌï©Ïú†Ïó∞ÏÑ±(Ï†ê)', 'ÌåîÍµΩÌòÄÌé¥Í∏∞(Ìöå)', 'ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞(Ìöå)', 'ÏïÖÎ†•(kg)', '50mÎã¨Î¶¨Í∏∞(Ï¥à)', 'Ï†úÏûêÎ¶¨Î©ÄÎ¶¨Îõ∞Í∏∞(cm)', 'Ïä§ÌÖùÍ≤ÄÏÇ¨(Ìöå)'],
                    datasets: [{
                        label: 'Í∞úÏù∏ Í∏∞Î°ù',
                        data: sampleData,
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.6)',   // ÏôïÎ≥µÏò§ÎûòÎã¨Î¶¨Í∏∞
                            'rgba(59, 130, 246, 0.6)',  // ÏïâÏïÑÏúóÎ™∏ÏïûÏúºÎ°úÍµΩÌûàÍ∏∞
                            'rgba(16, 185, 129, 0.6)',  // Ï¢ÖÌï©Ïú†Ïó∞ÏÑ±
                            'rgba(245, 158, 11, 0.6)',  // ÌåîÍµΩÌòÄÌé¥Í∏∞
                            'rgba(139, 92, 246, 0.6)',  // ÏúóÎ™∏ÎßêÏïÑÏò¨Î¶¨Í∏∞
                            'rgba(236, 72, 153, 0.6)',  // ÏïÖÎ†•
                            'rgba(34, 197, 94, 0.6)',   // 50mÎã¨Î¶¨Í∏∞
                            'rgba(168, 85, 247, 0.6)',  // Ï†úÏûêÎ¶¨Î©ÄÎ¶¨Îõ∞Í∏∞
                            'rgba(251, 146, 60, 0.6)'   // Ïä§ÌÖùÍ≤ÄÏÇ¨
                        ],
                        borderColor: [
                            'rgba(239, 68, 68, 1)',
                            'rgba(59, 130, 246, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(245, 158, 11, 1)',
                            'rgba(139, 92, 246, 1)',
                            'rgba(236, 72, 153, 1)',
                            'rgba(34, 197, 94, 1)',
                            'rgba(168, 85, 247, 1)',
                            'rgba(251, 146, 60, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Ï∏°Ï†ïÍ∞í'
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // ÎπÑÍµê Î∂ÑÏÑù Î≤ÑÌäº Ï≤òÎ¶¨
        document.getElementById('grade-analysis').addEventListener('click', function() {
            setActiveAnalysisButton(this);
            updateComparisonCharts('grade');
        });

        document.getElementById('class-analysis').addEventListener('click', function() {
            setActiveAnalysisButton(this);
            updateComparisonCharts('class');
        });

        document.getElementById('individual-analysis').addEventListener('click', function() {
            setActiveAnalysisButton(this);
            updateComparisonCharts('individual');
        });

        document.getElementById('compare-gender').addEventListener('change', function() {
            const currentType = document.querySelector('#grade-analysis.bg-blue-600') ? 'grade' :
                               document.querySelector('#class-analysis.bg-blue-600') ? 'class' : 'individual';
            updateComparisonCharts(currentType);
        });

        function setActiveAnalysisButton(activeButton) {
            document.querySelectorAll('#grade-analysis, #class-analysis, #individual-analysis').forEach(btn => {
                btn.className = 'px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-all';
            });
            activeButton.className = 'px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all';
        }

        function updateComparisonCharts(type) {
            // Í∏∞Ï°¥ Ï∞®Ìä∏ Ï†úÍ±∞
            if (charts.comparisonChart) {
                charts.comparisonChart.destroy();
            }
            if (charts.distributionChart) {
                charts.distributionChart.destroy();
            }

            const compCtx = document.getElementById('comparison-chart');
            const distCtx = document.getElementById('distribution-chart');
            const gender = document.getElementById('compare-gender').value;

            if (type === 'grade') {
                let labels, data;
                if (gender === 'male') {
                    labels = ['4ÌïôÎÖÑ ÎÇ®ÌïôÏÉù', '5ÌïôÎÖÑ ÎÇ®ÌïôÏÉù', '6ÌïôÎÖÑ ÎÇ®ÌïôÏÉù'];
                    data = [30, 34, 38];
                } else if (gender === 'female') {
                    labels = ['4ÌïôÎÖÑ Ïó¨ÌïôÏÉù', '5ÌïôÎÖÑ Ïó¨ÌïôÏÉù', '6ÌïôÎÖÑ Ïó¨ÌïôÏÉù'];
                    data = [26, 30, 32];
                } else {
                    labels = ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'];
                    data = [28, 32, 35];
                }

                charts.comparisonChart = new Chart(compCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'ÌèâÍ∑† Í∏∞Î°ù',
                            data: data,
                            backgroundColor: gender === 'male' ? 'rgba(59, 130, 246, 0.6)' : 
                                           gender === 'female' ? 'rgba(236, 72, 153, 0.6)' : 'rgba(59, 130, 246, 0.6)',
                            borderColor: gender === 'male' ? 'rgba(59, 130, 246, 1)' : 
                                        gender === 'female' ? 'rgba(236, 72, 153, 1)' : 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });

                charts.distributionChart = new Chart(distCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['10-15', '16-20', '21-25', '26-30', '31-35', '36-40', '41-45'],
                        datasets: [{
                            label: 'ÌïôÏÉù Ïàò',
                            data: gender === 'male' ? [10, 20, 40, 50, 40, 20, 10] :
                                  gender === 'female' ? [20, 30, 50, 70, 50, 30, 20] : [15, 25, 45, 60, 45, 25, 15],
                            backgroundColor: 'rgba(16, 185, 129, 0.2)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 2,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            } else if (type === 'class') {
                let data;
                if (gender === 'male') {
                    data = [32, 30, 34, 31, 33, 29, 35, 32, 30, 33];
                } else if (gender === 'female') {
                    data = [28, 26, 30, 27, 29, 25, 31, 28, 26, 29];
                } else {
                    data = [30, 28, 32, 29, 31, 27, 33, 30, 28, 31];
                }

                charts.comparisonChart = new Chart(compCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['1Î∞ò', '2Î∞ò', '3Î∞ò', '4Î∞ò', '5Î∞ò', '6Î∞ò', '7Î∞ò', '8Î∞ò', '9Î∞ò', '10Î∞ò'],
                        datasets: [{
                            label: 'ÌèâÍ∑† Í∏∞Î°ù',
                            data: data,
                            backgroundColor: gender === 'male' ? 'rgba(59, 130, 246, 0.6)' : 
                                           gender === 'female' ? 'rgba(236, 72, 153, 0.6)' : 'rgba(16, 185, 129, 0.6)',
                            borderColor: gender === 'male' ? 'rgba(59, 130, 246, 1)' : 
                                        gender === 'female' ? 'rgba(236, 72, 153, 1)' : 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });

                charts.distributionChart = new Chart(distCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Ïö∞Ïàò', 'Î≥¥ÌÜµ', 'ÎØ∏Ìù°'],
                        datasets: [{
                            data: gender === 'male' ? [140, 140, 20] : 
                                  gender === 'female' ? [100, 180, 20] : [120, 150, 30],
                            backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { position: 'bottom' } }
                    }
                });
            } else if (type === 'individual') {
                let names, data;
                if (gender === 'male') {
                    names = ['ÍπÄÎØºÏàò', 'Î∞ïÏ§ÄÌòï', 'Ï†ïÏö∞ÏßÑ', 'Ï°∞ÏòÅÏßÑ', 'ÌïúÎèÑÏú§', 'Ïã†ÎØºÏ≤†', 'Î∞∞ÏÑ±ÎØº', 'ÌôçÏßÑÏö∞', 'ÎÖ∏ÏàòÌòÅ', 'Í∞ïÌÉúÏòÅ'];
                    data = [47, 44, 42, 40, 39, 38, 37, 36, 35, 34];
                } else if (gender === 'female') {
                    names = ['Ïù¥ÏòÅÌù¨', 'ÍπÄÏàòÏßÑ', 'Î∞ïÎØ∏ÎÇò', 'Ï†ïÌòúÏõê', 'Í∞ïÏÑúÏó∞', 'Ïú§ÏßÄÏïÑ', 'Ï°∞Ïú†ÎÇò', 'ÌïúÏÜåÌù¨', 'Ïã†ÏòàÎ¶∞', 'Î∞∞ÏßÄÏõê'];
                    data = [43, 40, 38, 36, 35, 34, 33, 32, 31, 30];
                } else {
                    names = ['ÍπÄÎØºÏàò', 'Ïù¥ÏòÅÌù¨', 'Î∞ïÏ≤†Ïàò', 'Ï†ïÎØ∏ÎûÄ', 'Ïû•ÎèôÍ±¥', 'ÏµúÏÑúÏó∞', 'ÌïúÎèÑÏú§', 'Ïã†ÏòàÎ¶∞', 'Ïò§ÌòÑÏàò', 'Î∞∞ÏßÄÏõê'];
                    data = [45, 42, 40, 38, 37, 36, 35, 34, 33, 32];
                }

                charts.comparisonChart = new Chart(compCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: names,
                        datasets: [{
                            label: 'Í∞úÏù∏ Í∏∞Î°ù',
                            data: data,
                            backgroundColor: gender === 'male' ? 'rgba(59, 130, 246, 0.6)' : 
                                           gender === 'female' ? 'rgba(236, 72, 153, 0.6)' : 'rgba(139, 92, 246, 0.6)',
                            borderColor: gender === 'male' ? 'rgba(59, 130, 246, 1)' : 
                                        gender === 'female' ? 'rgba(236, 72, 153, 1)' : 'rgba(139, 92, 246, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { 
                            y: { beginAtZero: true },
                            x: { 
                                ticks: { maxRotation: 45 }
                            }
                        }
                    }
                });

                charts.distributionChart = new Chart(distCtx.getContext('2d'), {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Í∞úÏù∏Î≥Ñ Í∏∞Î°ù',
                            data: Array.from({length: 50}, (_, i) => ({
                                x: Math.random() * 100,
                                y: gender === 'male' ? Math.random() * 50 + 20 : 
                                   gender === 'female' ? Math.random() * 40 + 10 : Math.random() * 50 + 10
                            })),
                            backgroundColor: gender === 'male' ? 'rgba(59, 130, 246, 0.6)' : 
                                           gender === 'female' ? 'rgba(236, 72, 153, 0.6)' : 'rgba(139, 92, 246, 0.6)',
                            borderColor: gender === 'male' ? 'rgba(59, 130, 246, 1)' : 
                                        gender === 'female' ? 'rgba(236, 72, 153, 1)' : 'rgba(139, 92, 246, 1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { 
                            x: { title: { display: true, text: 'ÌïôÏÉù Î≤àÌò∏' } },
                            y: { title: { display: true, text: 'Í∏∞Î°ù' } }
                        }
                    }
                });
            }
        }

        function initializeCardioCharts() {
            const cardio1Ctx = document.getElementById('cardio-chart-1');
            if (cardio1Ctx && !charts.cardio1Chart) {
                charts.cardio1Chart = new Chart(cardio1Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÌöüÏàò',
                            data: [25, 30, 35],
                            backgroundColor: 'rgba(239, 68, 68, 0.6)',
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            const cardio2Ctx = document.getElementById('cardio-chart-2');
            if (cardio2Ctx && !charts.cardio2Chart) {
                charts.cardio2Chart = new Chart(cardio2Ctx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÏãúÍ∞Ñ (Î∂Ñ)',
                            data: [11, 10, 9],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            const cardio3Ctx = document.getElementById('cardio-chart-3');
            if (cardio3Ctx && !charts.cardio3Chart) {
                charts.cardio3Chart = new Chart(cardio3Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÌöüÏàò',
                            data: [90, 95, 100],
                            backgroundColor: 'rgba(16, 185, 129, 0.6)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }
        }

        function initializeFlexibilityChart() {
            const flexCtx = document.getElementById('flexibility-chart');
            if (flexCtx && !charts.flexibilityChart) {
                charts.flexibilityChart = new Chart(flexCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ ÎÇ®', '4ÌïôÎÖÑ Ïó¨', '5ÌïôÎÖÑ ÎÇ®', '5ÌïôÎÖÑ Ïó¨', '6ÌïôÎÖÑ ÎÇ®', '6ÌïôÎÖÑ Ïó¨'],
                        datasets: [{
                            label: 'ÌèâÍ∑† Í∏∞Î°ù (cm)',
                            data: [10.5, 15.2, 12.8, 17.4, 14.1, 18.9],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)',
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)',
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            const flex2Ctx = document.getElementById('flexibility-chart-2');
            if (flex2Ctx && !charts.flexibility2Chart) {
                charts.flexibility2Chart = new Chart(flex2Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ ÎÇ®', '4ÌïôÎÖÑ Ïó¨', '5ÌïôÎÖÑ ÎÇ®', '5ÌïôÎÖÑ Ïó¨', '6ÌïôÎÖÑ ÎÇ®', '6ÌïôÎÖÑ Ïó¨'],
                        datasets: [{
                            label: 'ÌèâÍ∑† Ï†êÏàò',
                            data: [6.5, 7.2, 7.1, 7.8, 7.5, 8.1],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)',
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)',
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(236, 72, 153, 0.6)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true, max: 10 } }
                    }
                });
            }
        }

        function initializeStrengthCharts() {
            const strength1Ctx = document.getElementById('strength-chart-1');
            if (strength1Ctx && !charts.strength1Chart) {
                charts.strength1Chart = new Chart(strength1Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÌöüÏàò',
                            data: [25, 30, 35],
                            backgroundColor: 'rgba(16, 185, 129, 0.6)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            const strength2Ctx = document.getElementById('strength-chart-2');
            if (strength2Ctx && !charts.strength2Chart) {
                charts.strength2Chart = new Chart(strength2Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÏïÖÎ†• (kg)',
                            data: [18.5, 22.3, 26.1],
                            backgroundColor: 'rgba(245, 158, 11, 0.6)',
                            borderColor: 'rgba(245, 158, 11, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }
        }

        function initializePowerCharts() {
            const power1Ctx = document.getElementById('power-chart-1');
            if (power1Ctx && !charts.power1Chart) {
                charts.power1Chart = new Chart(power1Ctx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† ÏãúÍ∞Ñ (Ï¥à)',
                            data: [9.2, 8.8, 8.4],
                            backgroundColor: 'rgba(139, 92, 246, 0.2)',
                            borderColor: 'rgba(139, 92, 246, 1)',
                            borderWidth: 2,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            const power2Ctx = document.getElementById('power-chart-2');
            if (power2Ctx && !charts.power2Chart) {
                charts.power2Chart = new Chart(power2Ctx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['4ÌïôÎÖÑ', '5ÌïôÎÖÑ', '6ÌïôÎÖÑ'],
                        datasets: [{
                            label: 'ÌèâÍ∑† Í±∞Î¶¨ (cm)',
                            data: [145, 160, 175],
                            backgroundColor: 'rgba(245, 158, 11, 0.6)',
                            borderColor: 'rgba(245, 158, 11, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }
        }

        function initializeBMIChart() {
            const bmiCtx = document.getElementById('bmi-chart');
            if (bmiCtx && !charts.bmiChart) {
                charts.bmiChart = new Chart(bmiCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Ï†ÄÏ≤¥Ï§ë', 'Ï†ïÏÉÅ', 'Í≥ºÏ≤¥Ï§ë', 'ÎπÑÎßå'],
                        datasets: [{
                            data: [45, 180, 60, 15],
                            backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        cutout: '50%'
                    }
                });
            }
        }

        // NEIS Î≥¥Í≥†ÏÑú Í¥ÄÎ†® Ìï®ÏàòÎì§
        function initializeNeisReports() {
            updateNeisClassOptions();
            updateNeisStudentOptions();
            loadNeisData();
        }

        // NEIS ÌïÑÌÑ∞ Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨
        document.getElementById('neis-grade').addEventListener('change', function() {
            updateNeisClassOptions();
            updateNeisStudentOptions();
        });

        document.getElementById('neis-class').addEventListener('change', function() {
            updateNeisStudentOptions();
        });

        document.getElementById('search-neis').addEventListener('click', function() {
            loadNeisData();
        });

        function updateNeisClassOptions() {
            const grade = document.getElementById('neis-grade').value;
            const classSelect = document.getElementById('neis-class');
            classSelect.innerHTML = '<option value="">Ï†ÑÏ≤¥ Î∞ò</option>';
            
            if (grade) {
                for (let i = 1; i <= 10; i++) {
                    classSelect.innerHTML += `<option value="${i}">${i}Î∞ò</option>`;
                }
            }
        }

        function updateNeisStudentOptions() {
            const grade = document.getElementById('neis-grade').value;
            const classNum = document.getElementById('neis-class').value;
            const studentSelect = document.getElementById('neis-student');
            
            studentSelect.innerHTML = '<option value="">Ï†ÑÏ≤¥ ÌïôÏÉù</option>';
            
            if (grade && classNum) {
                const filteredStudents = sampleStudents.filter(student => {
                    return student.grade == grade && student.class == classNum;
                });
                
                filteredStudents.forEach(student => {
                    const globalIndex = sampleStudents.indexOf(student);
                    studentSelect.innerHTML += `<option value="${globalIndex}">${student.name} (${student.number}Î≤à)</option>`;
                });
            }
        }

        function loadNeisData() {
            const grade = document.getElementById('neis-grade').value;
            const classNum = document.getElementById('neis-class').value;
            const studentIndex = document.getElementById('neis-student').value;
            const tbody = document.getElementById('neis-table-body');

            let filteredStudents = sampleStudents;

            if (studentIndex) {
                filteredStudents = [sampleStudents[parseInt(studentIndex)]];
            } else {
                filteredStudents = sampleStudents.filter(student => {
                    return (!grade || student.grade == grade) && (!classNum || student.class == classNum);
                });
            }

            tbody.innerHTML = '';
            
            // ÏµúÎåÄ 50Î™ÖÍπåÏßÄÎßå ÌëúÏãú
            filteredStudents.slice(0, 50).forEach(student => {
                // ÏÉòÌîå Í∏∞Î°ù Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
                const sampleRecord = {
                    running: Math.floor(Math.random() * 20) + 20,
                    longRun: `${Math.floor(Math.random() * 4) + 8}:${String(Math.floor(Math.random() * 60)).padStart(2, '0')}`,
                    stepTest: Math.floor(Math.random() * 50) + 80,
                    flexibility: (Math.random() * 15 + 5).toFixed(1),
                    flexibilityTotal: Math.floor(Math.random() * 5) + 5,
                    pushUp: Math.floor(Math.random() * 15) + 15,
                    sitUp: Math.floor(Math.random() * 20) + 20,
                    grip: (Math.random() * 10 + 15).toFixed(1),
                    sprint: (Math.random() * 2 + 7).toFixed(2),
                    jump: Math.floor(Math.random() * 50) + 150,
                    bmi: (Math.random() * 5 + 18).toFixed(1)
                };

                tbody.innerHTML += `
                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r">${student.grade}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r">${student.class}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r">${student.number}</td>
                        <td class="px-4 py-3 text-center text-sm font-medium text-gray-900 border-r">${student.name}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r">${student.gender}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-red-50">${sampleRecord.running}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-red-50">${sampleRecord.longRun}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-red-50">${sampleRecord.stepTest}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-blue-50">${sampleRecord.flexibility}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-blue-50">${sampleRecord.flexibilityTotal}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-green-50">${sampleRecord.pushUp}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-green-50">${sampleRecord.sitUp}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-green-50">${sampleRecord.grip}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-yellow-50">${sampleRecord.sprint}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 border-r bg-yellow-50">${sampleRecord.jump}</td>
                        <td class="px-4 py-3 text-center text-sm text-gray-900 bg-purple-50">${sampleRecord.bmi}</td>
                    </tr>
                `;
            });

            if (filteredStudents.length === 0) {
                tbody.innerHTML = '<tr><td colspan="16" class="px-4 py-8 text-center text-gray-500">Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</td></tr>';
            }
        }

        // Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            updateClassOptions('student-class', '');
            updateClassOptions('search-class', '');
            updateClassOptions('filter-class', '');
            updateStudentOptions();
            updateStudentTable();
            initializeDashboardCharts();
        });
    </script>
</body>
</html>